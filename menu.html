<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="menu.css">
    <link rel="stylesheet" type="text/css" href="vink.css">
	<script type="text/javascript" src="vue.js"></script>
	<script type="text/javascript" src="menu.js"></script>
</head>
<body>
<div class="menu" id="menu">

    <div class="control">
        
        <div class="view" v-if="control.views.markers">

            <span class="control-element">Vink.io</span>
            <span>&nbsp; | &nbsp;</span>
            <span class="control-element" v-on:click="control.showOptionsView()">Options</span>

        </div>

        <div class="view" v-if="control.views.options">

            <span class="control-element" v-on:click="control.showMarkersView()">Back</span>

        </div>

    </div>

	<div class="marker-list" v-if="control.views.markers">

		<div class="item" v-for="item in markerItems">

			<div class="colorbar" v-bind:class="item.headerClass">
				<span>{{ item.toggleCharakter }}</span>
			</div>

            <div class="header" v-on:click="item.togglePanel()" v-bind:active="item.views.panel">
            		{{ item.marker.name }}	
			</div>

			<div class="panel" v-if="item.views.panel">

               	<!-- ########## READY VIEW ########## -->
				<div class="view" v-if="item.views.ready">

					<div class="info">
						{{ item.marker.description }}
					</div>

                    <div class="edit" v-on:click="item.showEditView()">
                        Edit
                    </div>

                    <input  v-for="query of item.marker.queries"  
                            type="text" 
                            v-bind:placeholder="query.label" 
                            v-model="item.userInputs[query.id]">

					<input  type="button" 
                            value="Apply" 
                            v-on:click="item.applyMarker()">
				</div>
				
                <!-- ########## PROGRESS VIEW ########## -->
				<div class="view" v-if="item.views.progress">
					
                    <div class="loader"></div>

				</div>
   
				<!-- ########## RESULT VIEW ########## -->
				<div class="view" v-if="item.views.result">
                    
                    <div class="info">
                        {{ item.resultMessage }}
                    </div>

                    <div class="edit" v-on:click="item.showEditView()">
                        Edit
                    </div>

					<input  type="button" 
                            value="Clear" 
                            v-on:click="item.resetMarker()">
				</div>

				<!-- ########## ERROR VIEW ########## -->
				<div class="view" v-if="item.views.error">

					<div class="info">
					    {{ item.errorMessage }}
					</div>

                    <div class="edit" v-on:click="item.showEditView()">
                        Edit
                    </div>

					<input  type="button" 
                            value="Back" 
                            v-on:click="item.showReadyView()">			
				</div>

                <!-- ########## EDIT VIEW ########## -->
				<div class="view" v-if="item.views.edit">
                
                    <div class="info">
                        <b>URL:</b><br>
                        {{ item.marker.url }}
                    </div>
                
                    <input  type="button" 
                            value="Back" 
                            v-on:click="item.showReadyView()">			

                    <input  type="button" 
                            value="Remove" 
                            v-on:click="item.removeMarker()">
                    
                </div>
			</div>
		</div>
	</div>

    <div class="option-list" v-if="control.views.options">

        <div class="item">
            <div class="option">
                <em>Subscribe</em> additional markers on the vink website.
            </div>
        </div>

        <!-- ### Register Option Item ### -->

        <div class="item">

            <!-- ### Header ### -->
            <div class="option" v-on:click="register.togglePanel()">
                <em>Add</em> a new marker by entering the marker's URL.
            </div>

            <!-- ### Panel ### -->
            <div class="panel" v-if="register.views.panel">
                <!-- ### Input View ### -->
                <div class="view" v-if="register.views.input">
                        
                    <input  type="text"
                            placeholder="http://mymarkers.com/mark/" 
                            v-model="register.inputUrl">
                    
                    <input  type="button" 
                            value="Register" 
                            v-on:click="register.registerMarker()">

                </div>
                <!-- ### Success View ### -->
                <div class="view" v-if="register.views.success">

                    <div class="info">
                        {{ register.successMessage }}                        
                    </div>
                    
                    <input  type="button" 
                            value="Back" 
                            v-on:click="register.showInputView()">

                </div>
                <!-- ### Error View ### -->
                <div class="view" v-if="register.views.error">

                    <div class="info">
                        {{ register.errorMessage }}                        
                    </div>
                    
                    <input  type="button" 
                            value="Back" 
                            v-on:click="register.showInputView()">
                </div>
            </div>
        </div>

        <div class="item">
            <div class="option">
                <em>Learn</em> how to include your text mining program to vink.
            </div>
        </div>
    </div>

<div>
</body>
</html>
